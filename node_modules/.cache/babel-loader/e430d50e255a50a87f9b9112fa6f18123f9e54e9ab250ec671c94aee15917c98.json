{"ast":null,"code":"const HISTORY_KEY = 'wikipedia_history';\nexport const addToHistory = (title, snippet, thumbnail) => {\n  const history = getHistory();\n\n  // Remove existing entry if present (to update it)\n  const filteredHistory = history.filter(item => item.title !== title);\n\n  // Add new entry at the beginning\n  const newHistory = [{\n    title,\n    snippet,\n    thumbnail,\n    timestamp: Date.now()\n  }, ...filteredHistory];\n\n  // Keep only the last 100 items\n  const trimmedHistory = newHistory.slice(0, 100);\n  localStorage.setItem(HISTORY_KEY, JSON.stringify(trimmedHistory));\n};\nexport const getHistory = () => {\n  const historyString = localStorage.getItem(HISTORY_KEY);\n  if (!historyString) return [];\n  try {\n    return JSON.parse(historyString);\n  } catch (error) {\n    console.error('Error parsing history:', error);\n    return [];\n  }\n};\nexport const clearHistory = () => {\n  localStorage.removeItem(HISTORY_KEY);\n};","map":{"version":3,"names":["HISTORY_KEY","addToHistory","title","snippet","thumbnail","history","getHistory","filteredHistory","filter","item","newHistory","timestamp","Date","now","trimmedHistory","slice","localStorage","setItem","JSON","stringify","historyString","getItem","parse","error","console","clearHistory","removeItem"],"sources":["/Users/haleynordeen/Desktop/Wikipedia App Prototyping/src/services/historyService.ts"],"sourcesContent":["import { ArticleImage } from '../api/wikipedia';\n\nexport interface HistoryItem {\n  title: string;\n  snippet: string;\n  timestamp: number;\n  thumbnail?: ArticleImage;\n}\n\nconst HISTORY_KEY = 'wikipedia_history';\n\nexport const addToHistory = (title: string, snippet: string, thumbnail?: ArticleImage) => {\n  const history = getHistory();\n  \n  // Remove existing entry if present (to update it)\n  const filteredHistory = history.filter(item => item.title !== title);\n  \n  // Add new entry at the beginning\n  const newHistory = [{\n    title,\n    snippet,\n    thumbnail,\n    timestamp: Date.now()\n  }, ...filteredHistory];\n\n  // Keep only the last 100 items\n  const trimmedHistory = newHistory.slice(0, 100);\n  \n  localStorage.setItem(HISTORY_KEY, JSON.stringify(trimmedHistory));\n};\n\nexport const getHistory = (): HistoryItem[] => {\n  const historyString = localStorage.getItem(HISTORY_KEY);\n  if (!historyString) return [];\n  \n  try {\n    return JSON.parse(historyString);\n  } catch (error) {\n    console.error('Error parsing history:', error);\n    return [];\n  }\n};\n\nexport const clearHistory = () => {\n  localStorage.removeItem(HISTORY_KEY);\n}; "],"mappings":"AASA,MAAMA,WAAW,GAAG,mBAAmB;AAEvC,OAAO,MAAMC,YAAY,GAAGA,CAACC,KAAa,EAAEC,OAAe,EAAEC,SAAwB,KAAK;EACxF,MAAMC,OAAO,GAAGC,UAAU,CAAC,CAAC;;EAE5B;EACA,MAAMC,eAAe,GAAGF,OAAO,CAACG,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACP,KAAK,KAAKA,KAAK,CAAC;;EAEpE;EACA,MAAMQ,UAAU,GAAG,CAAC;IAClBR,KAAK;IACLC,OAAO;IACPC,SAAS;IACTO,SAAS,EAAEC,IAAI,CAACC,GAAG,CAAC;EACtB,CAAC,EAAE,GAAGN,eAAe,CAAC;;EAEtB;EACA,MAAMO,cAAc,GAAGJ,UAAU,CAACK,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC;EAE/CC,YAAY,CAACC,OAAO,CAACjB,WAAW,EAAEkB,IAAI,CAACC,SAAS,CAACL,cAAc,CAAC,CAAC;AACnE,CAAC;AAED,OAAO,MAAMR,UAAU,GAAGA,CAAA,KAAqB;EAC7C,MAAMc,aAAa,GAAGJ,YAAY,CAACK,OAAO,CAACrB,WAAW,CAAC;EACvD,IAAI,CAACoB,aAAa,EAAE,OAAO,EAAE;EAE7B,IAAI;IACF,OAAOF,IAAI,CAACI,KAAK,CAACF,aAAa,CAAC;EAClC,CAAC,CAAC,OAAOG,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,OAAO,EAAE;EACX;AACF,CAAC;AAED,OAAO,MAAME,YAAY,GAAGA,CAAA,KAAM;EAChCT,YAAY,CAACU,UAAU,CAAC1B,WAAW,CAAC;AACtC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}